<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>A Draggable Red Square</title>

        <style>
            /* ==============================
               Base Layout
            ============================== */
            body {
                margin: 0;
                padding: 0;
                height: 100vh;
                background-color: #f0f0f0;
                overflow: hidden; /* Prevent scrollbars */
                font-family: sans-serif;
            }

            /* ==============================
               Game Container (Full Screen)
            ============================== */
            main {
                width: 100vw;
                height: 100vh;
                background-color: #ffffff;
                position: relative;
                overflow: hidden;
            }

            /* ==============================
               Draggable Square
            ============================== */
            #draggable-item {
                width: 50px;
                height: 50px;
                background-color: red;
                position: absolute;
                top: 0;
                left: 0;
                cursor: pointer;
                transition: left 0.01s linear, top 0.01s linear;
            }
        </style>
    </head>

    <body>
        <main id="game-container" role="application">
            <div
                id="draggable-item"
                role="button"
                tabindex="0"
                aria-label="Draggable red square"
            ></div>
        </main>

        <script>
            document.addEventListener("DOMContentLoaded", () => {
                const draggableItem = document.getElementById("draggable-item");
                const gameContainer = document.getElementById("game-container");

                let isMoving = false;

                function updatePosition(event) {
                    if (!isMoving) return;

                    const containerRect =
                        gameContainer.getBoundingClientRect();

                    const newX =
                        event.clientX -
                        containerRect.left -
                        draggableItem.offsetWidth / 2;

                    const newY =
                        event.clientY -
                        containerRect.top -
                        draggableItem.offsetHeight / 2;

                    draggableItem.style.left = `${newX}px`;
                    draggableItem.style.top = `${newY}px`;
                }

                /* Toggle movement when square is clicked */
                draggableItem.addEventListener("click", (event) => {
                    event.stopPropagation();
                    isMoving = !isMoving;
                });

                /* Move square while active */
                gameContainer.addEventListener("mousemove", updatePosition);

                /* Stop movement when clicking container */
                gameContainer.addEventListener("click", () => {
                    isMoving = false;
                });
            });
        </script>
    </body>
</html>